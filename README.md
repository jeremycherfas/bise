# Bise

Bise looks at a bunch of [common log format](https://en.wikipedia.org/wiki/Common_Log_Format) web-server logs generated by your blog, and from this generates a little summary of your blog's visitors, expressed in number, destination, and source. Bise considers only the last couple of weeks' worth of log entries. Its output looks like this:

```
December 14 - December 28
Source                 Uniques Regulars
---------------------------------------
All visitors              3139      N/A
RSS/JSON feeds             556      354
Front page                1505       81
Visits from Twitter         37        7
Visits from Facebook        81        2
```

See "Output details", below, for a deeper explanation of this table's content.

Bise works well (or so the current theory goes) when run regularly, perhaps in a weekly crontask that sends you its output in email. By limiting its considered data to only the last couple of weeks, Bise gives you a rolling summary of your blog's active readership, rather than a strictly cumulative view.

## Usage

Once you've got it set up (see below), run it on the command line, providing a list of log files as arguments:

```
 ./bise /var/log/apache/blog-access.log*
``` 
 
Bise assumes that the files will be sortable by date according to Apache's default log-file naming scheme: the newest file is _blah-blah_.log, the next-newest _blah-blah_.log.1, then _blah-blah_.log.2, and so on. Some of these logs (or, indeed, most) can also be gzipped (and thus have names ending in .gz, after the ordering-digit) and Bise will do the right thing.

## Output details

### Columns

* **Uniques** lists the number of unique remote IP addresses meeting this row's criteria.

* **Regulars** displays the number of unique remote IP addresses that have met the row's criteria more than once, with more than one day elapsing between their earliest and their latest visit.

### Rows

* **All visitors**: Every hit in the logs, on any path.

* **RSS/JSON feeds**: Hits on your blog's syndication feed page(s).

* **Front page**: Hits on your blog's front page.

* **Visits from Twitter**: Hits that name a `t.co`-based URL as their referer.

* **Visits from Facebook**: Hits that invoke Facebook in their agent string.

## Project status

Super-duper alpha. As of early 2018 I've only just started using this tool myself, and I'm still working on determining what shape it wants to be. Every facet of it is highly susceptive to abrupt change while this happens.

## Setup

### Installation

To install Bise's dependencies, run the following command from the top level of your Plerd repository (the directory that contains this here README file):

    curl -fsSL https://cpanmin.us | perl - --installdeps .
    
This should crunch though the installation of a bunch of Perl modules that Bise needs.

### Configuration

For now, just tune the read-only variables defined at the top of the file.

## Credits

Bise is by Jason McIntosh (<jmac@jmac.org>).
