# Bise

Bise looks at a bunch of [common log format](https://en.wikipedia.org/wiki/Common_Log_Format) web-server logs generated by your blog, and from this generates a little summary of your blog's visitors, expressed in number, destination, and source. Bise considers only the last couple of weeks' worth of log entries. Its output looks like this:

```
December 14 - December 28
Source                 Uniques Regulars
---------------------------------------
All visitors              2906      559
RSS feed                   583      421
JSON feed                   28       17
Front page                1905      268
From Twitter                48        4
From Facebook               77        1
```

See "Output details", below, for a deeper explanation of this table's content.

Bise works well (or so the current theory goes) when run regularly, perhaps in a weekly crontask that sends you its output in email. By limiting its considered data to only the last couple of weeks, Bise gives you a rolling summary of your blog's active readership, rather than a strictly cumulative view.

## Usage

Once you've got it set up (see below), run it on the command line, providing a list of log files as arguments:

```
 ./bise /var/log/apache/blog-access.log*
``` 
 
Bise assumes that the files will be sortable by date according to Apache's default log-file naming scheme: the newest file is _blah-blah_.log, the next-newest _blah-blah_.log.1, then _blah-blah_.log.2, and so on. Some of these logs (or, indeed, most) can also be gzipped (and thus have names ending in .gz, after the ordering-digit) and Bise will do the right thing.

## Output details

### Columns

* **Uniques** lists the number of unique remote IP addresses meeting this row's criteria.

* **Regulars** displays the number of unique remote IP addresses that have met the row's criteria more than once, with more than one day elapsing between their earliest and their latest visit.

### Rows

Rows are entirely user-defined. Set up a list of substring-match or pattern-match tests for Bise to run against each salient line of the web server's log files, and Bise will display the results of each test in a single, labeled row of its output table.

The example output at the top of this document displays six such reports, and these happen to correspond to the example configuration file found in `conf/conf-example.yaml`.

See "Configuration", below, for more information.

## Project status

Super-duper alpha. As of early 2018 I've only just started using this tool myself, and I'm still working on determining what shape it wants to be. Every facet of it is highly susceptive to abrupt change while this happens.

## Setup

### Installation

To install Bise's dependencies, run the following command from the top level of your Bise repository (the directory that contains this here README file):

    curl -fsSL https://cpanmin.us | perl - --installdeps .
    
This should crunch though the installation of a bunch of Perl modules that Bise needs.

### Configuration

Copy `conf/conf-example.yaml` to `conf/conf.yaml` and update as you'd like.

See the example config doc itself for config documentation.

## Credits

Bise is by Jason McIntosh (<jmac@jmac.org>).
